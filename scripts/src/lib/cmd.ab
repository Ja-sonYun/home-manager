import { replace } from "std/text"
import { is_command, echo_error } from "std/env"

pub fun require_cmd(name: Text): Null {
    if not is_command(name) {
        echo_error("Missing command: {name}")
        exit 1
    }
}

pub fun urlencode_npm_pkg(name: Text): Text {
    let encoded = replace(name, "@", "%40")
    let encoded = replace(encoded, "/", "%2F")
    return encoded
}
